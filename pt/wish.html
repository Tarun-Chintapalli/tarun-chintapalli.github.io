<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A Decade of Us</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Pinyon+Script&family=Lato:wght@300;400&display=swap" rel="stylesheet">
    <style>
        :root {
            --gold: #D4AF37;
            --gold-dim: #8a6e18;
            --orange-glow: #ffae00;
        }
        
        body {
            background-color: #050505;
            color: #e0e0e0;
            font-family: 'Lato', sans-serif;
            overflow-x: hidden;
            margin: 0;
            -webkit-tap-highlight-color: transparent; /* Mobile fix */
        }

        /* Typography */
        h1, h2 { font-family: 'Cinzel', serif; }
        .script { font-family: 'Pinyon Script', cursive; }

        /* Canvas Background */
        #dust-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            pointer-events: none;
        }

        /* Cinematic Opener */
        #opener {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 1.5s ease-out;
            padding: 20px;
            text-align: center;
        }
        
        .typewriter {
            font-family: 'Courier New', monospace;
            color: var(--gold);
            border-right: 2px solid var(--gold);
            white-space: nowrap;
            overflow: hidden;
            animation: blink 0.75s step-end infinite;
            font-size: 1.2rem; /* Mobile friendly */
        }

        @media (min-width: 768px) {
            .typewriter { font-size: 1.5rem; }
        }

        @keyframes blink { 50% { border-color: transparent; } }

        /* Golden Glow Text */
        .gold-glow {
            color: var(--gold);
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
        }

        /* Timeline Logic */
        .timeline-container {
            position: relative;
            padding-left: 20px;
            border-left: 2px solid rgba(212, 175, 55, 0.1);
            margin-left: 10px; /* Reduced for mobile */
        }

        .timeline-progress {
            position: absolute;
            left: -2px;
            top: 0;
            width: 2px;
            background: linear-gradient(to bottom, var(--gold), #fcf6ba, var(--gold));
            box-shadow: 0 0 8px var(--gold);
            height: 0%; 
            transition: height 0.1s linear;
        }

        .milestone-dot {
            position: absolute;
            left: -6px;
            width: 10px;
            height: 10px;
            background: var(--gold);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--gold);
            transform: scale(0);
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .milestone-dot.active { transform: scale(1); }

        /* Cards & Photos */
        .memory-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(212, 175, 55, 0.2);
            backdrop-filter: blur(5px);
            transform: translateY(30px);
            opacity: 0;
            transition: all 0.8s ease-out;
            margin-bottom: 2rem;
        }

        .memory-card.visible {
            transform: translateY(0);
            opacity: 1;
        }

        .photo-frame {
            background: #fff;
            padding: 6px 6px 20px 6px; 
            transform: rotate(-3deg);
            transition: transform 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            cursor: pointer;
            position: absolute;
            transition: transform 0.3s ease, z-index 0.3s;
        }
        
        /* Interactive Hover/Click effects */
        .photo-frame:hover { 
            transform: scale(1.1) rotate(0deg) !important; 
            z-index: 50 !important; 
            box-shadow: 0 10px 25px rgba(0,0,0,0.8);
        }

        .photo-img {
            width: 100%;
            height: 100px;
            object-fit: cover;
            background-color: #1a1a1a;
        }

        /* Contract Button */
        .btn-gold {
            background: linear-gradient(45deg, var(--gold-dim), var(--gold), var(--gold-dim));
            background-size: 200% auto;
            color: #000;
            animation: shine-btn 3s linear infinite;
            border: 1px solid #fff;
            width: 100%; /* Full width on mobile */
            max-width: 300px;
        }
        
        @keyframes shine-btn { to { background-position: 200% center; } }

        /* Modal Styles */
        #image-modal {
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
        }

    </style>
</head>
<body>

    <!-- Cinematic Opener -->
    <div id="opener">
        <div class="typewriter" id="typewriter-text"></div>
    </div>

    <!-- Background Canvas -->
    <canvas id="dust-canvas"></canvas>

    <!-- Content Wrapper -->
    <main class="relative z-10 pb-32">

        <!-- Hero Section -->
        <section class="min-h-screen flex flex-col justify-center items-center text-center p-6 pt-20">
            <div class="opacity-0 transition-opacity duration-1000 delay-500" id="hero-content">
                <p class="text-xs md:text-sm tracking-[0.4em] uppercase text-gray-400 mb-6">Established 2016</p>
                <h1 class="text-4xl md:text-7xl mb-4 leading-tight">
                    <span class="block text-white text-2xl md:text-5xl mb-2 font-light">A Decade of</span>
                    <span class="script text-6xl md:text-9xl gold-glow block mt-4">Us</span>
                </h1>
                <p class="text-gray-400 italic text-sm md:text-base max-w-xs md:max-w-md mx-auto mt-8 leading-relaxed">
                    "Ten years. Endless miles. One love story."
                </p>
                
                <div class="absolute bottom-10 left-0 w-full flex justify-center animate-bounce opacity-50">
                    <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
                </div>
            </div>
        </section>

        <!-- Timeline Section -->
        <div class="max-w-lg mx-auto px-4 md:px-6">
            
            <div class="timeline-container">
                <div class="timeline-progress" id="progress-line"></div>

                <!-- Block 1: The Beginning -->
                <div class="timeline-block relative py-8 md:py-12 pl-4 md:pl-6">
                    <div class="milestone-dot" style="top: 2.5rem;"></div>
                    <div class="memory-card p-6 rounded-lg">
                        <span class="text-gold text-xs tracking-widest uppercase block mb-2" style="color: var(--gold)">Chapter 1</span>
                        <h2 class="text-xl md:text-2xl mb-3 text-white">The Long Game</h2>
                        <p class="text-gray-400 text-sm leading-relaxed mb-6">
                            It started in 2005. You were the school crush I couldn't stop looking at. It took me years to build up the courage. And even though we were miles apart, 2016 changed everything.
                        </p>

                        <!-- Added School Photo Frame -->
                        <div class="relative h-48 w-full flex justify-center">
                            <div class="photo-frame w-32 rotate-[-2deg]" style="position: relative;" onclick="openModal('1.jpeg', '2005: Where it all began üéí')">
                                <img src="1.jpeg" class="photo-img h-32">
                                <div class="text-[10px] text-gray-500 text-center mt-1">The School</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Block 2: The Stats -->
                <div class="timeline-block relative py-8 md:py-12 pl-4 md:pl-6">
                    <div class="milestone-dot" style="top: 2.5rem;"></div>
                    <div class="memory-card p-6 rounded-lg text-center">
                        <h2 class="text-lg md:text-xl mb-6 text-white">The Math of Love</h2>
                        <div class="grid grid-cols-2 gap-3 mb-4">
                            <div class="p-3 bg-white/5 rounded">
                                <span class="block text-xl md:text-2xl font-bold gold-glow" id="days-count">0</span>
                                <span class="text-[10px] uppercase tracking-wider text-gray-500">Days</span>
                            </div>
                            <div class="p-3 bg-white/5 rounded">
                                <span class="block text-xl md:text-2xl font-bold gold-glow" id="hours-count">0</span>
                                <span class="text-[10px] uppercase tracking-wider text-gray-500">Hours</span>
                            </div>
                        </div>
                        <p class="text-xs text-gray-400 italic">Proof that distance means nothing when someone means everything.</p>
                    </div>
                </div>

                <!-- Block 3: The Memories (Gallery - UPDATED for LDR) -->
                <div class="timeline-block relative py-8 md:py-12 pl-4 md:pl-6">
                    <div class="milestone-dot" style="top: 2.5rem;"></div>
                    <div class="memory-card p-4 rounded-lg">
                        <div class="flex justify-between items-center mb-6">
                            <h2 class="text-xl md:text-2xl text-white pl-2">The Highlights</h2>
                            <span class="text-[10px] text-gray-500 uppercase tracking-widest animate-pulse">Tap photos</span>
                        </div>
                        
                        <!-- 4 Stacked Polaroids -->
                        <div class="relative h-80 w-full mb-4">
                            
                            <!-- Photo 1: Top Left -->
                            <div class="photo-frame w-28 md:w-32 z-10" style="top: 0; left: 0; transform: rotate(-6deg);" 
                                 onclick="openModal('2.jpeg', '2019: The Rajahmundry Bridge ‚ù§Ô∏è')">
                                <img src="2.jpeg" class="photo-img">
                                <div class="text-[10px] text-gray-500 text-center mt-1">Rajahmundry</div>
                            </div>

                            <!-- Photo 2: Top Right -->
                            <div class="photo-frame w-28 md:w-32 z-20" style="top: 20px; right: 0; transform: rotate(4deg);"
                                 onclick="openModal('3.jpeg', 'Thousands of hours on screen üíª')">
                                <img src="3.jpeg" class="photo-img">
                                <div class="text-[10px] text-gray-500 text-center mt-1">Video calls</div>
                            </div>

                            <!-- Photo 3: Bottom Left -->
                            <div class="photo-frame w-28 md:w-32 z-30" style="bottom: 10px; left: 10px; transform: rotate(-3deg);"
                                 onclick="openModal('4.jpeg', 'Dates')">
                                <img src="4.jpeg" class="photo-img">
                                <div class="text-[10px] text-gray-500 text-center mt-1">Dates</div>
                            </div>

                            <!-- Photo 4: Bottom Right -->
                            <div class="photo-frame w-28 md:w-32 z-40" style="bottom: 0; right: 10px; transform: rotate(2deg);"
                                 onclick="openModal('6.jpeg', 'Worth every single mile ü•Ç')">
                                <img src="6.jpeg" class="photo-img">
                                <div class="text-[10px] text-gray-500 text-center mt-1">Worth It</div>
                            </div>

                        </div>
                    </div>
                </div>

                <!-- Block 4: The Promise -->
                <div class="timeline-block relative py-8 md:py-12 pl-4 md:pl-6">
                    <div class="milestone-dot" style="top: 2.5rem;"></div>
                    <div class="memory-card p-6 md:p-8 rounded-lg text-center border-none bg-gradient-to-b from-transparent to-black">
                        <h2 class="text-2xl md:text-3xl script text-white mb-4">Forever to Go</h2>
                        <p class="text-gray-400 mb-8 text-sm">
                            10 years down. A lifetime to go.<br>
                            Are you ready for the next chapter?
                        </p>
                        
                        <button id="sign-btn" class="btn-gold py-4 font-bold tracking-widest text-sm uppercase rounded shadow-[0_0_20px_rgba(212,175,55,0.4)] transition-transform active:scale-95">
                            Renew Contract
                        </button>
                    </div>
                </div>

            </div>
        </div>

    </main>

    <!-- Celebration Overlay (Lanterns) -->
    <canvas id="lanterns-canvas" class="fixed inset-0 pointer-events-none z-50"></canvas>

    <!-- Image Modal -->
    <div id="image-modal" class="fixed inset-0 z-[100] bg-black/95 hidden flex flex-col items-center justify-center p-4 opacity-0 transition-opacity duration-300" onclick="closeModal()">
        <img id="modal-img" src="" class="max-w-full max-h-[70vh] rounded-sm shadow-[0_0_30px_rgba(255,255,255,0.1)] border-8 border-white transform scale-95 transition-transform duration-300 object-contain">
        <p id="modal-caption" class="mt-6 text-white text-xl font-light tracking-wide text-center"></p>
        <p class="mt-2 text-gray-500 text-xs uppercase tracking-widest">Tap anywhere to close</p>
    </div>

    <script>
        // --- 1. Cinematic Opener ---
        const text = "10 Years in the making...";
        const typewriter = document.getElementById('typewriter-text');
        const opener = document.getElementById('opener');
        const heroContent = document.getElementById('hero-content');
        let charIndex = 0;

        function type() {
            if (charIndex < text.length) {
                typewriter.innerHTML += text.charAt(charIndex);
                charIndex++;
                setTimeout(type, 100);
            } else {
                setTimeout(() => {
                    opener.style.opacity = '0';
                    setTimeout(() => {
                        opener.style.display = 'none';
                        heroContent.style.opacity = '1'; // Trigger hero fade in
                    }, 1500);
                }, 1000);
            }
        }
        setTimeout(type, 500);


        // --- 2. Gold Dust Background ---
        const dustCanvas = document.getElementById('dust-canvas');
        const ctx = dustCanvas.getContext('2d');
        let width, height;
        let particles = [];

        function resize() {
            width = window.innerWidth;
            height = window.innerHeight;
            dustCanvas.width = width;
            dustCanvas.height = height;
        }
        window.addEventListener('resize', resize);
        resize();

        class Particle {
            constructor() {
                this.reset();
                this.y = Math.random() * height;
            }
            reset() {
                this.x = Math.random() * width;
                this.y = height + Math.random() * 100;
                this.size = Math.random() * 2 + 0.5;
                this.speed = Math.random() * 0.5 + 0.1;
                this.opacity = Math.random() * 0.5 + 0.1;
                this.oscillation = Math.random() * 2;
            }
            update(scrollY) {
                this.y -= this.speed;
                const parallaxY = this.y - (scrollY * this.speed * 0.5);
                const sway = Math.sin(this.y * 0.01 + this.oscillation) * 0.5;

                if (parallaxY < -10) this.reset();
                return { x: this.x + sway, y: parallaxY, s: this.size, o: this.opacity };
            }
        }

        for(let i=0; i<50; i++) particles.push(new Particle());

        function animateDust() {
            ctx.clearRect(0, 0, width, height);
            const scrollY = window.scrollY;
            particles.forEach(p => {
                const pos = p.update(scrollY);
                ctx.beginPath();
                ctx.arc(pos.x, pos.y, pos.s, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(212, 175, 55, ${pos.o})`;
                ctx.fill();
            });
            requestAnimationFrame(animateDust);
        }
        animateDust();


        // --- 3. Scroll Timeline Logic ---
        const progressLine = document.getElementById('progress-line');
        const container = document.querySelector('.timeline-container');
        const cards = document.querySelectorAll('.memory-card');
        const dots = document.querySelectorAll('.milestone-dot');

        function handleScroll() {
            const containerRect = container.getBoundingClientRect();
            const viewportHeight = window.innerHeight;
            const startOffset = viewportHeight * 0.6;
            let progress = (viewportHeight - containerRect.top - startOffset);
            
            const max = containerRect.height;
            if (progress < 0) progress = 0;
            if (progress > max) progress = max;

            progressLine.style.height = `${progress}px`;

            cards.forEach((card, index) => {
                const rect = card.getBoundingClientRect();
                if (rect.top < viewportHeight * 0.85) {
                    card.classList.add('visible');
                    if(dots[index]) dots[index].classList.add('active');
                }
            });
        }
        window.addEventListener('scroll', handleScroll);


        // --- 4. Time Counter ---
        const startDate = new Date();
        startDate.setFullYear(startDate.getFullYear() - 10);
        
        function updateTime() {
            const now = new Date();
            const diff = now - startDate;
            document.getElementById('days-count').innerText = Math.floor(diff/(1000*60*60*24)).toLocaleString();
            document.getElementById('hours-count').innerText = Math.floor(diff/(1000*60*60)).toLocaleString();
        }
        setInterval(updateTime, 1000);
        updateTime();

        // --- 5. Modal Logic (NEW) ---
        function openModal(src, captionText) {
            const modal = document.getElementById('image-modal');
            const img = document.getElementById('modal-img');
            const caption = document.getElementById('modal-caption');

            img.src = src;
            caption.innerText = captionText;

            modal.classList.remove('hidden');
            // Small delay to allow display:block to apply before opacity transition
            setTimeout(() => {
                modal.classList.remove('opacity-0');
                img.classList.remove('scale-95');
                img.classList.add('scale-100');
            }, 10);
        }

        function closeModal() {
            const modal = document.getElementById('image-modal');
            const img = document.getElementById('modal-img');

            modal.classList.add('opacity-0');
            img.classList.remove('scale-100');
            img.classList.add('scale-95');

            setTimeout(() => {
                modal.classList.add('hidden');
            }, 300);
        }


        // --- 6. Finale: Floating Lanterns ---
        const btn = document.getElementById('sign-btn');
        const lCanvas = document.getElementById('lanterns-canvas');
        const lCtx = lCanvas.getContext('2d');
        let lanterns = [];

        btn.addEventListener('click', () => {
            btn.innerText = "Accepted ‚ù§Ô∏è";
            btn.style.background = "#fff";
            btn.style.color = "#000";
            btn.disabled = true;
            
            lCanvas.width = window.innerWidth;
            lCanvas.height = window.innerHeight;
            spawnLanterns();
            animateLanterns();
        });

        function spawnLanterns() {
            for(let i=0; i<100; i++) {
                lanterns.push({
                    x: Math.random() * lCanvas.width,
                    y: lCanvas.height + Math.random() * 500, 
                    width: Math.random() * 20 + 15,
                    height: Math.random() * 30 + 20,
                    speed: Math.random() * 1.5 + 0.5,
                    sway: Math.random() * 2,
                    swaySpeed: Math.random() * 0.02 + 0.01,
                    opacity: 0
                });
            }
        }

        function animateLanterns() {
            lCtx.clearRect(0, 0, lCanvas.width, lCanvas.height);
            let activeLanterns = 0;

            lanterns.forEach(l => {
                l.y -= l.speed;
                l.x += Math.sin(l.y * 0.01 + l.sway) * 0.5;
                
                if (l.y > lCanvas.height - 100) {
                     l.opacity = Math.min(l.opacity + 0.01, 1);
                } else if (l.y < 100) {
                     l.opacity = Math.max(l.opacity - 0.01, 0);
                } else {
                    l.opacity = 1;
                }

                if(l.opacity > 0) {
                    activeLanterns++;
                    lCtx.save();
                    lCtx.globalAlpha = l.opacity;
                    lCtx.translate(l.x, l.y);
                    lCtx.shadowBlur = 20;
                    lCtx.shadowColor = "#ffae00";
                    
                    let grd = lCtx.createLinearGradient(0, 0, 0, l.height);
                    grd.addColorStop(0, "#ffdb4d");
                    grd.addColorStop(1, "#ff8c00");
                    lCtx.fillStyle = grd;
                    
                    lCtx.beginPath();
                    lCtx.moveTo(-l.width/2, 0);
                    lCtx.lineTo(l.width/2, 0);
                    lCtx.lineTo(l.width/2 * 0.8, l.height);
                    lCtx.lineTo(-l.width/2 * 0.8, l.height);
                    lCtx.closePath();
                    lCtx.fill();

                    lCtx.fillStyle = "#fff";
                    lCtx.shadowBlur = 5;
                    lCtx.beginPath();
                    lCtx.arc(0, l.height * 0.8, l.width * 0.2, 0, Math.PI*2);
                    lCtx.fill();
                    lCtx.restore();
                }
            });

            if(activeLanterns > 0 || lanterns.some(l => l.y > 0)) {
                requestAnimationFrame(animateLanterns);
            } else {
                 lCtx.clearRect(0, 0, lCanvas.width, lCanvas.height);
            }
        }

        window.addEventListener('resize', () => {
             lCanvas.width = window.innerWidth;
             lCanvas.height = window.innerHeight;
        });

    </script>
</body>
</html>
